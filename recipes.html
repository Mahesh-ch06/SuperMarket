<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipes - FreshMart</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,">
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Noto+Sans:wght@400;500;700;900&display=swap">
    <style>
        body {
            font-family: 'Space Grotesk', 'Noto Sans', sans-serif;
        }

        /* Animated gradient background */
        .gradient-bg {
            background: linear-gradient(-45deg, #f9fbfa, #eaf0ec, #d8e3dc, #c7d2cc);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Glass morphism effects */
        .glass {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        /* Floating animation for recipe cards */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        .float-animation:nth-child(2n) {
            animation-delay: -2s;
        }

        .float-animation:nth-child(3n) {
            animation-delay: -4s;
        }

        /* Recipe card hover effects */
        .recipe-card {
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }

        .recipe-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        /* Modal styles */
        .modal {
            backdrop-filter: blur(8px);
            background: rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }

        .modal-content {
            transform: scale(0.7) translateY(-50px);
            transition: all 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal.show .modal-content {
            transform: scale(1) translateY(0);
        }

        /* Custom scrollbar */
        .modal-content::-webkit-scrollbar {
            width: 8px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: #6ec88e;
            border-radius: 4px;
        }

        /* Search and filter styles */
        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(110, 200, 142, 0.1);
            border-color: #6ec88e;
        }

        .filter-btn {
            transition: all 0.2s ease;
        }

        .filter-btn.active {
            background: #6ec88e;
            color: white;
            transform: scale(1.05);
        }

        /* Ingredient grid */
        .ingredient-item {
            transition: all 0.2s ease;
        }

        .ingredient-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* Nutrition grid */
        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
        }

        .nutrition-item {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .nutrition-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* Toast notifications */
        #toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            padding: 12px 20px;
            border-radius: 8px;
            color: white;
            font-size: 0.9rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            opacity: 0;
            transform: translateX(100%);
            transition: opacity 0.3s ease, transform 0.3s ease;
            min-width: 250px;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(0);
        }

        .toast.success { background-color: #22c55e; }
        .toast.error { background-color: #ef4444; }
        .toast.info { background-color: #3b82f6; }

        /* Mobile responsive improvements */
        @media (max-width: 640px) {
            .toast {
                min-width: 200px;
                font-size: 0.8rem;
                padding: 10px 16px;
            }
            
            #toast-container {
                bottom: 10px;
                right: 10px;
                left: 10px;
            }
            
            .modal-content {
                margin: 10px;
                max-height: 95vh;
            }
            
            .recipe-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .filter-buttons {
                flex-wrap: wrap;
                gap: 8px;
            }
            
            .filter-btn {
                font-size: 0.875rem;
                padding: 8px 16px;
            }
        }

        /* Touch-friendly buttons */
        .touch-button {
            min-height: 44px;
            min-width: 44px;
        }

        /* Recipe grid responsive */
        .recipe-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 24px;
        }

        @media (max-width: 768px) {
            .recipe-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

        /* Favorite heart animation */
        .favorite-btn {
            transition: all 0.2s ease;
        }

        .favorite-btn.favorited {
            color: #ef4444;
            transform: scale(1.1);
        }

        /* Tag styles */
        .recipe-tag {
            background: rgba(110, 200, 142, 0.1);
            color: #059669;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Instruction steps */
        .instruction-step {
            counter-increment: step-counter;
            position: relative;
            padding-left: 40px;
            margin-bottom: 16px;
        }

        .instruction-step::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 24px;
            height: 24px;
            background: #6ec88e;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .instructions-list {
            counter-reset: step-counter;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">

    <div class="relative flex min-h-screen flex-col">
        <!-- Header -->
        <header class="sticky top-0 z-40 glass border-b border-white/20 px-4 sm:px-10 py-3">
            <div class="flex items-center justify-between">
                <a href="index.html" class="flex items-center gap-3 text-[#111813]">
                    <div class="size-5">
                        <svg viewBox="0 0 48 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z" fill="currentColor"></path>
                        </svg>
                    </div>
                    <h1 class="text-[#111813] text-lg font-bold tracking-[-0.015em]">FreshMart</h1>
                </a>
                
                <div class="flex items-center gap-3">
                    <button id="cartBtn" class="flex cursor-pointer items-center justify-center rounded-xl h-10 px-4 bg-white/80 hover:bg-white text-[#111813] text-sm font-bold tracking-[0.015em] transition-all touch-button">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
                        </svg>
                        Cart (<span id="cartCount">0</span>)
                    </button>
                    <a href="shop.html" class="flex min-w-[84px] cursor-pointer items-center justify-center rounded-xl h-10 px-4 bg-[#6ec88e] hover:bg-green-500 text-white text-sm font-bold tracking-[0.015em] transition-colors touch-button">
                        Shop
                    </a>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="py-12 sm:py-16 px-4">
            <div class="max-w-6xl mx-auto text-center">
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-[#111813] mb-4 leading-tight">
                    Delicious <span class="text-[#6ec88e]">Recipes</span>
                </h1>
                <p class="text-lg sm:text-xl text-gray-700 mb-8 max-w-2xl mx-auto">
                    Discover amazing recipes and add all ingredients to your cart with one click!
                </p>
                
                <!-- Search and Filters -->
                <div class="max-w-4xl mx-auto space-y-6">
                    <!-- Search Bar -->
                    <div class="relative">
                        <input 
                            type="text" 
                            id="searchInput" 
                            placeholder="Search recipes, ingredients, or cooking methods..."
                            class="search-input w-full px-6 py-4 pl-12 rounded-2xl border border-white/30 bg-white/80 backdrop-blur-sm text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#6ec88e] transition-all"
                        >
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                        </svg>
                    </div>
                    
                    <!-- Filter Buttons -->
                    <div class="filter-buttons flex flex-wrap justify-center gap-3">
                        <button class="filter-btn active px-6 py-2 rounded-full bg-white/80 hover:bg-[#6ec88e] hover:text-white text-gray-700 font-medium transition-all touch-button" data-category="all">
                            All Recipes
                        </button>
                        <button class="filter-btn px-6 py-2 rounded-full bg-white/80 hover:bg-[#6ec88e] hover:text-white text-gray-700 font-medium transition-all touch-button" data-category="breakfast">
                            Breakfast
                        </button>
                        <button class="filter-btn px-6 py-2 rounded-full bg-white/80 hover:bg-[#6ec88e] hover:text-white text-gray-700 font-medium transition-all touch-button" data-category="lunch">
                            Lunch
                        </button>
                        <button class="filter-btn px-6 py-2 rounded-full bg-white/80 hover:bg-[#6ec88e] hover:text-white text-gray-700 font-medium transition-all touch-button" data-category="dinner">
                            Dinner
                        </button>
                        <button class="filter-btn px-6 py-2 rounded-full bg-white/80 hover:bg-[#6ec88e] hover:text-white text-gray-700 font-medium transition-all touch-button" data-category="dessert">
                            Dessert
                        </button>
                        <button class="filter-btn px-6 py-2 rounded-full bg-white/80 hover:bg-[#6ec88e] hover:text-white text-gray-700 font-medium transition-all touch-button" data-category="vegetarian">
                            Vegetarian
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recipes Grid -->
        <section class="py-8 px-4">
            <div class="max-w-7xl mx-auto">
                <div id="recipesGrid" class="recipe-grid">
                    <!-- Recipes will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="glass border-t border-white/20 mt-16">
            <div class="max-w-7xl mx-auto py-8 px-4 text-center">
                <div class="flex flex-wrap justify-center gap-6 mb-6">
                    <a href="aboutus.html" class="text-gray-600 hover:text-[#6ec88e] transition-colors touch-button">About Us</a>
                    <a href="contactus.html" class="text-gray-600 hover:text-[#6ec88e] transition-colors touch-button">Contact</a>
                    <a href="#" class="text-gray-600 hover:text-[#6ec88e] transition-colors touch-button">Privacy Policy</a>
                    <a href="#" class="text-gray-600 hover:text-[#6ec88e] transition-colors touch-button">Terms of Service</a>
                </div>
                <p class="text-gray-500">© 2025 FreshMart. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Recipe Modal -->
    <div id="recipeModal" class="modal fixed inset-0 z-50 hidden">
        <div class="modal-content bg-white rounded-2xl shadow-2xl mx-4 my-8 max-w-4xl mx-auto">
            <!-- Modal will be populated dynamically -->
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <script>
        // Sample recipe data with correct food images
        const recipes = [
            {
                id: 1,
                name: "Classic Margherita Pizza",
                image: "https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",
                category: "dinner",
                cookTime: "25 mins",
                servings: 4,
                difficulty: "Medium",
                rating: 4.8,
                description: "A classic Italian pizza with fresh tomatoes, mozzarella, and basil. Simple ingredients that create an amazing flavor combination.",
                tags: ["Italian", "Vegetarian", "Quick"],
                ingredients: [
                    { name: "Pizza Dough", image: "https://images.pexels.com/photos/4109111/pexels-photo-4109111.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 80, quantity: 1, unit: "piece" },
                    { name: "Tomato Sauce", image: "https://images.pexels.com/photos/6287284/pexels-photo-6287284.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 45, quantity: 200, unit: "ml" },
                    { name: "Mozzarella Cheese", image: "https://images.pexels.com/photos/773253/pexels-photo-773253.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 120, quantity: 2, unit: "g" },
                    { name: "Fresh Basil", image: "https://images.pexels.com/photos/4198015/pexels-photo-4198015.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 25, quantity: 2, unit: "leaves" },
                    { name: "Olive Oil", image: "https://images.pexels.com/photos/33783/olive-oil-salad-dressing-cooking-olive.jpg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 150, quantity: 2, unit: "tbsp" }
                ],
                instructions: [
                    "Preheat your oven to 475°F (245°C).",
                    "Roll out the pizza dough on a floured surface to your desired thickness.",
                    "Transfer the dough to a pizza stone or baking sheet.",
                    "Spread the tomato sauce evenly over the dough, leaving a border for the crust.",
                    "Tear the mozzarella into small pieces and distribute over the sauce.",
                    "Drizzle with olive oil and season with salt and pepper.",
                    "Bake for 12-15 minutes until the crust is golden and cheese is bubbly.",
                    "Remove from oven and immediately top with fresh basil leaves.",
                    "Let cool for 2-3 minutes before slicing and serving."
                ],
                nutrition: {
                    calories: 285,
                    protein: "12g",
                    carbs: "35g",
                    fat: "11g",
                    fiber: "2g",
                    sodium: "590mg"
                }
            },
            {
                id: 2,
                name: "Avocado Toast with Poached Egg",
                image: "https://images.pexels.com/photos/566566/pexels-photo-566566.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",
                category: "breakfast",
                cookTime: "15 mins",
                servings: 2,
                difficulty: "Easy",
                rating: 4.6,
                description: "A nutritious and delicious breakfast featuring creamy avocado on toasted bread topped with a perfectly poached egg.",
                tags: ["Healthy", "Vegetarian", "Quick", "Protein-rich"],
                ingredients: [
                    { name: "Whole Grain Bread", image: "https://images.pexels.com/photos/209206/pexels-photo-209206.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 60, quantity: 4, unit: "slices" },
                    { name: "Ripe Avocados", image: "https://images.pexels.com/photos/557659/pexels-photo-557659.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 80, quantity: 2, unit: "pieces" },
                    { name: "Fresh Eggs", image: "https://images.pexels.com/photos/162712/egg-white-food-protein-162712.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 4, quantity: 2, unit: "pieces" },
                    { name: "Lemon", image: "https://images.pexels.com/photos/1414130/pexels-photo-1414130.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 15, quantity: 1, unit: "piece" },
                    { name: "Sea Salt", image: "https://images.pexels.com/photos/1340116/pexels-photo-1340116.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 25, quantity: 1, unit: "pinch" },
                    { name: "Black Pepper", image: "https://images.pexels.com/photos/4198015/pexels-photo-4198015.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 30, quantity: 1, unit: "pinch" }
                ],
                instructions: [
                    "Fill a medium saucepan with water and bring to a gentle simmer.",
                    "Add a splash of vinegar to the water to help the egg whites stay together.",
                    "Toast the bread slices until golden brown.",
                    "While bread is toasting, cut avocados in half and remove pits.",
                    "Scoop avocado flesh into a bowl and mash with lemon juice, salt, and pepper.",
                    "Crack each egg into a small bowl, then gently slide into the simmering water.",
                    "Poach eggs for 3-4 minutes for runny yolks, or longer for firmer yolks.",
                    "Spread mashed avocado generously on toasted bread.",
                    "Top each toast with a poached egg and season with additional salt and pepper.",
                    "Serve immediately while eggs are warm."
                ],
                nutrition: {
                    calories: 320,
                    protein: "14g",
                    carbs: "28g",
                    fat: "18g",
                    fiber: "8g",
                    sodium: "380mg"
                }
            },
            {
                id: 3,
                name: "Chicken Caesar Salad",
                image: "https://images.pexels.com/photos/2097090/pexels-photo-2097090.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",
                category: "lunch",
                cookTime: "20 mins",
                servings: 4,
                difficulty: "Medium",
                rating: 4.7,
                description: "A classic Caesar salad with grilled chicken, crispy romaine lettuce, parmesan cheese, and homemade croutons.",
                tags: ["Protein-rich", "Classic", "Satisfying"],
                ingredients: [
                    { name: "Chicken Breast", image: "https://images.pexels.com/photos/616354/pexels-photo-616354.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 200, quantity: 1, unit: "g" },
                    { name: "Romaine Lettuce", image: "https://images.pexels.com/photos/1656666/pexels-photo-1656666.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 40, quantity: 2, unit: "heads" },
                    { name: "Parmesan Cheese", image: "https://images.pexels.com/photos/773253/pexels-photo-773253.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 150, quantity: 1, unit: "g" },
                    { name: "Bread for Croutons", image: "https://images.pexels.com/photos/209206/pexels-photo-209206.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 50, quantity: 2, unit: "slices" },
                    { name: "Caesar Dressing", image: "https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 80, quantity: 1, unit: "ml" },
                    { name: "Garlic", image: "https://images.pexels.com/photos/1435904/pexels-photo-1435904.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 20, quantity: 2, unit: "cloves" }
                ],
                instructions: [
                    "Season chicken breasts with salt, pepper, and garlic powder.",
                    "Heat a grill pan or skillet over medium-high heat.",
                    "Cook chicken for 6-7 minutes per side until fully cooked (165°F internal temp).",
                    "Let chicken rest for 5 minutes, then slice into strips.",
                    "Cut bread into cubes and toast in a pan with olive oil until golden.",
                    "Wash and chop romaine lettuce into bite-sized pieces.",
                    "In a large bowl, toss lettuce with Caesar dressing.",
                    "Add sliced chicken and croutons to the salad.",
                    "Top with freshly grated Parmesan cheese.",
                    "Serve immediately with additional dressing on the side."
                ],
                nutrition: {
                    calories: 380,
                    protein: "32g",
                    carbs: "18g",
                    fat: "22g",
                    fiber: "4g",
                    sodium: "720mg"
                }
            },
            {
                id: 4,
                name: "Chocolate Chip Cookies",
                image: "https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",
                category: "dessert",
                cookTime: "25 mins",
                servings: 24,
                difficulty: "Easy",
                rating: 4.9,
                description: "Classic homemade chocolate chip cookies that are crispy on the outside and chewy on the inside.",
                tags: ["Sweet", "Classic", "Family-friendly", "Vegetarian"],
                ingredients: [
                    { name: "All-Purpose Flour", image: "https://images.pexels.com/photos/4110251/pexels-photo-4110251.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 45, quantity: 3, unit: "g" },
                    { name: "Butter", image: "https://images.pexels.com/photos/4110251/pexels-photo-4110251.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 120, quantity: 2, unit: "g" },
                    { name: "Brown Sugar", image: "https://images.pexels.com/photos/1340116/pexels-photo-1340116.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 60, quantity: 1, unit: "g" },
                    { name: "White Sugar", image: "https://images.pexels.com/photos/1340116/pexels-photo-1340116.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 40, quantity: 1, unit: "g" },
                    { name: "Eggs", image: "https://images.pexels.com/photos/162712/egg-white-food-protein-162712.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 40, quantity: 2, unit: "pieces" },
                    { name: "Chocolate Chips", image: "https://images.pexels.com/photos/918327/pexels-photo-918327.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 180, quantity: 2, unit: "g" },
                    { name: "Vanilla Extract", image: "https://images.pexels.com/photos/4110251/pexels-photo-4110251.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 80, quantity: 1, unit: "tsp" }
                ],
                instructions: [
                    "Preheat oven to 375°F (190°C).",
                    "In a large bowl, cream together butter and both sugars until light and fluffy.",
                    "Beat in eggs one at a time, then add vanilla extract.",
                    "In a separate bowl, whisk together flour, baking soda, and salt.",
                    "Gradually mix the dry ingredients into the wet ingredients.",
                    "Fold in chocolate chips until evenly distributed.",
                    "Drop rounded tablespoons of dough onto ungreased baking sheets.",
                    "Bake for 9-11 minutes until edges are golden brown.",
                    "Let cool on baking sheet for 5 minutes before transferring to wire rack.",
                    "Store in airtight container for up to one week."
                ],
                nutrition: {
                    calories: 180,
                    protein: "2g",
                    carbs: "24g",
                    fat: "9g",
                    fiber: "1g",
                    sodium: "95mg"
                }
            },
            {
                id: 5,
                name: "Vegetable Stir Fry",
                image: "https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",
                category: "dinner",
                cookTime: "15 mins",
                servings: 4,
                difficulty: "Easy",
                rating: 4.5,
                description: "A colorful and nutritious vegetable stir fry with a savory sauce, perfect for a quick and healthy dinner.",
                tags: ["Vegetarian", "Healthy", "Quick", "Asian"],
                ingredients: [
                    { name: "Bell Peppers", image: "https://images.pexels.com/photos/1300972/pexels-photo-1300972.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 60, quantity: 2, unit: "pieces" },
                    { name: "Broccoli", image: "https://images.pexels.com/photos/47347/broccoli-vegetable-food-healthy-47347.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 50, quantity: 300, unit: "g" },
                    { name: "Carrots", image: "https://images.pexels.com/photos/143133/pexels-photo-143133.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 30, quantity: 2, unit: "pieces" },
                    { name: "Snow Peas", image: "https://images.pexels.com/photos/1300972/pexels-photo-1300972.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 70, quantity: 2, unit: "g" },
                    { name: "Soy Sauce", image: "https://images.pexels.com/photos/4198015/pexels-photo-4198015.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 45, quantity: 3, unit: "tbsp" },
                    { name: "Sesame Oil", image: "https://images.pexels.com/photos/33783/olive-oil-salad-dressing-cooking-olive.jpg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 1, quantity: 1, unit: "tbsp" },
                    { name: "Ginger", image: "https://images.pexels.com/photos/1435904/pexels-photo-1435904.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 25, quantity: 1, unit: "inch" },
                    { name: "Garlic", image: "https://images.pexels.com/photos/1435904/pexels-photo-1435904.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 20, quantity: 3, unit: "cloves" }
                ],
                instructions: [
                    "Prepare all vegetables by washing and cutting into bite-sized pieces.",
                    "Heat a large wok or skillet over high heat.",
                    "Add a tablespoon of oil and swirl to coat the pan.",
                    "Add minced garlic and ginger, stir-fry for 30 seconds until fragrant.",
                    "Add harder vegetables (carrots, broccoli) first and stir-fry for 2-3 minutes.",
                    "Add bell peppers and snow peas, continue stir-frying for 2 minutes.",
                    "In a small bowl, mix soy sauce, sesame oil, and a pinch of sugar.",
                    "Pour sauce over vegetables and toss to coat evenly.",
                    "Stir-fry for another 1-2 minutes until vegetables are crisp-tender.",
                    "Serve immediately over steamed rice or noodles."
                ],
                nutrition: {
                    calories: 120,
                    protein: "4g",
                    carbs: "15g",
                    fat: "6g",
                    fiber: "5g",
                    sodium: "580mg"
                }
            },
            {
                id: 6,
                name: "Greek Yogurt Parfait",
                image: "https://images.pexels.com/photos/1092730/pexels-photo-1092730.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&fit=crop",
                category: "breakfast",
                cookTime: "5 mins",
                servings: 2,
                difficulty: "Easy",
                rating: 4.4,
                description: "A healthy and delicious breakfast parfait with layers of Greek yogurt, fresh berries, and crunchy granola.",
                tags: ["Healthy", "Vegetarian", "Quick", "Protein-rich", "No-cook"],
                ingredients: [
                    { name: "Greek Yogurt", image: "https://images.pexels.com/photos/416978/pexels-photo-416978.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 120, quantity: 4, unit: "g" },
                    { name: "Mixed Berries", image: "https://images.pexels.com/photos/1132047/pexels-photo-1132047.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 150, quantity: 2, unit: "g" },
                    { name: "Granola", image: "https://images.pexels.com/photos/4110251/pexels-photo-4110251.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 180, quantity: 1, unit: "g" },
                    { name: "Honey", image: "https://images.pexels.com/photos/4110251/pexels-photo-4110251.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 200, quantity: 1, unit: "tbsp" },
                    { name: "Almonds", image: "https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop", price: 250, quantity: 5, unit: "g" }
                ],
                instructions: [
                    "Wash and prepare fresh berries, removing any stems.",
                    "In a small bowl, mix Greek yogurt with honey until well combined.",
                    "Roughly chop almonds for extra crunch.",
                    "In serving glasses or bowls, start with a layer of yogurt mixture.",
                    "Add a layer of mixed berries over the yogurt.",
                    "Sprinkle a layer of granola over the berries.",
                    "Repeat layers until glasses are filled, ending with granola on top.",
                    "Garnish with chopped almonds and a few extra berries.",
                    "Serve immediately for best texture, or chill for up to 2 hours.",
                    "Drizzle with additional honey if desired before serving."
                ],
                nutrition: {
                    calories: 280,
                    protein: "18g",
                    carbs: "35g",
                    fat: "8g",
                    fiber: "6g",
                    sodium: "85mg"
                }
            }
        ];

        // Global variables
        let currentRecipes = [...recipes];
        let favorites = JSON.parse(localStorage.getItem('favoriteRecipes') || '[]');

        // DOM elements
        const recipesGrid = document.getElementById('recipesGrid');
        const searchInput = document.getElementById('searchInput');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const recipeModal = document.getElementById('recipeModal');
        const cartBtn = document.getElementById('cartBtn');
        const cartCount = document.getElementById('cartCount');
        const toastContainer = document.getElementById('toast-container');

        // Toast notification system
        function showToast(message, type = 'info', duration = 4000) {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            toastContainer.appendChild(toast);

            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.parentNode?.removeChild(toast), 300);
            }, duration);
        }

        // Cart management
        function updateCartCount() {
            const savedCart = localStorage.getItem('freshmartCart');
            const cartItems = savedCart ? JSON.parse(savedCart) : [];
            const totalCount = cartItems.reduce((sum, item) => sum + (item.quantity || 1), 0);
            cartCount.textContent = totalCount;
        }

        function addToCart(ingredient) {
            const savedCart = localStorage.getItem('freshmartCart');
            const cartItems = savedCart ? JSON.parse(savedCart) : [];
            
            const existingItem = cartItems.find(item => item.name === ingredient.name);
            
            if (existingItem) {
                existingItem.quantity += ingredient.quantity;
            } else {
                cartItems.push({
                    id: Date.now() + Math.random(),
                    name: ingredient.name,
                    price: ingredient.price,
                    quantity: ingredient.quantity,
                    unit: ingredient.unit,
                    image: ingredient.image
                });
            }
            
            localStorage.setItem('freshmartCart', JSON.stringify(cartItems));
            updateCartCount();
            showToast(`${ingredient.name} added to cart!`, 'success');
        }

        function addAllIngredientsToCart(recipe) {
            const savedCart = localStorage.getItem('freshmartCart');
            const cartItems = savedCart ? JSON.parse(savedCart) : [];
            
            recipe.ingredients.forEach(ingredient => {
                const existingItem = cartItems.find(item => item.name === ingredient.name);
                
                if (existingItem) {
                    existingItem.quantity += ingredient.quantity;
                } else {
                    cartItems.push({
                        id: Date.now() + Math.random() + Math.random(),
                        name: ingredient.name,
                        price: ingredient.price,
                        quantity: ingredient.quantity,
                        unit: ingredient.unit,
                        image: ingredient.image
                    });
                }
            });
            
            localStorage.setItem('freshmartCart', JSON.stringify(cartItems));
            updateCartCount();
            
            const totalCost = recipe.ingredients.reduce((sum, ing) => sum + (ing.price * ing.quantity), 0);
            showToast(`All ingredients added to cart! Total: ₹${totalCost.toFixed(2)}`, 'success', 5000);
        }

        // Favorite management
        function toggleFavorite(recipeId) {
            const index = favorites.indexOf(recipeId);
            if (index > -1) {
                favorites.splice(index, 1);
                showToast('Recipe removed from favorites', 'info');
            } else {
                favorites.push(recipeId);
                showToast('Recipe added to favorites!', 'success');
            }
            localStorage.setItem('favoriteRecipes', JSON.stringify(favorites));
            renderRecipes(currentRecipes);
        }

        // Render recipes
        function renderRecipes(recipesToRender) {
            recipesGrid.innerHTML = recipesToRender.map(recipe => {
                const isFavorited = favorites.includes(recipe.id);
                const totalCost = recipe.ingredients.reduce((sum, ing) => sum + (ing.price * ing.quantity), 0);
                
                return `
                    <div class="recipe-card float-animation bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300">
                        <div class="relative">
                            <img src="${recipe.image}" alt="${recipe.name}" class="w-full h-48 object-cover">
                            <div class="absolute top-4 right-4">
                                <button onclick="toggleFavorite(${recipe.id})" class="favorite-btn ${isFavorited ? 'favorited' : ''} p-2 bg-white/80 backdrop-blur-sm rounded-full hover:bg-white transition-all touch-button">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="${isFavorited ? 'currentColor' : 'none'}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                                    </svg>
                                </button>
                            </div>
                            <div class="absolute bottom-4 left-4">
                                <span class="recipe-tag">${recipe.category}</span>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="text-xl font-bold text-gray-900">${recipe.name}</h3>
                                <div class="flex items-center gap-1">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-4 h-4 text-yellow-400">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.562.562 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" />
                                    </svg>
                                    <span class="text-sm text-gray-600">${recipe.rating}</span>
                                </div>
                            </div>
                            
                            <p class="text-gray-600 text-sm mb-4 line-clamp-2">${recipe.description}</p>
                            
                            <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                                <span class="flex items-center gap-1">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    ${recipe.cookTime}
                                </span>
                                <span class="flex items-center gap-1">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
                                    </svg>
                                    ${recipe.servings} servings
                                </span>
                                <span class="px-2 py-1 bg-gray-100 rounded-full text-xs">${recipe.difficulty}</span>
                            </div>
                            
                            <div class="flex flex-wrap gap-1 mb-4">
                                ${recipe.tags.map(tag => `<span class="recipe-tag text-xs">${tag}</span>`).join('')}
                            </div>
                            
                            <div class="space-y-3">
                                <button onclick="openRecipeModal(${recipe.id})" class="w-full bg-[#6ec88e] hover:bg-green-500 text-white font-semibold py-3 px-4 rounded-xl transition-colors touch-button">
                                    View Recipe
                                </button>
                                <button onclick="addAllIngredientsToCart(${JSON.stringify(recipe).replace(/"/g, '&quot;')})" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-xl transition-colors touch-button">
                                    Add All Ingredients - ₹${totalCost.toFixed(2)}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Open recipe modal
        function openRecipeModal(recipeId) {
            const recipe = recipes.find(r => r.id === recipeId);
            if (!recipe) return;

            const totalCost = recipe.ingredients.reduce((sum, ing) => sum + (ing.price * ing.quantity), 0);
            const isFavorited = favorites.includes(recipe.id);

            recipeModal.querySelector('.modal-content').innerHTML = `
                <div class="relative">
                    <!-- Close button -->
                    <button onclick="closeRecipeModal()" class="absolute top-4 right-4 z-10 p-2 bg-white/80 backdrop-blur-sm rounded-full hover:bg-white transition-all touch-button">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>

                    <!-- Hero image -->
                    <div class="relative h-64 sm:h-80">
                        <img src="${recipe.image}" alt="${recipe.name}" class="w-full h-full object-cover rounded-t-2xl">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-t-2xl"></div>
                        <div class="absolute bottom-6 left-6 text-white">
                            <h2 class="text-3xl sm:text-4xl font-bold mb-2">${recipe.name}</h2>
                            <div class="flex items-center gap-4 text-sm">
                                <span class="flex items-center gap-1">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-4 h-4 text-yellow-400">
                                        <path d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.562.562 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z" />
                                    </svg>
                                    ${recipe.rating}
                                </span>
                                <span>${recipe.cookTime}</span>
                                <span>${recipe.servings} servings</span>
                                <span class="px-2 py-1 bg-white/20 rounded-full">${recipe.difficulty}</span>
                            </div>
                        </div>
                        <button onclick="toggleFavorite(${recipe.id})" class="absolute top-6 right-16 favorite-btn ${isFavorited ? 'favorited' : ''} p-2 bg-white/80 backdrop-blur-sm rounded-full hover:bg-white transition-all touch-button">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="${isFavorited ? 'currentColor' : 'none'}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                            </svg>
                        </button>
                    </div>

                    <div class="p-6 sm:p-8">
                        <!-- Description and tags -->
                        <div class="mb-6">
                            <p class="text-gray-700 text-lg mb-4">${recipe.description}</p>
                            <div class="flex flex-wrap gap-2">
                                ${recipe.tags.map(tag => `<span class="recipe-tag">${tag}</span>`).join('')}
                            </div>
                        </div>

                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <!-- Ingredients -->
                            <div>
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-2xl font-bold text-gray-900">Ingredients</h3>
                                    <button onclick="addAllIngredientsToCart(${JSON.stringify(recipe).replace(/"/g, '&quot;')})" class="bg-[#6ec88e] hover:bg-green-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors text-sm touch-button">
                                        Add All - ₹${totalCost.toFixed(2)}
                                    </button>
                                </div>
                                <div class="space-y-3">
                                    ${recipe.ingredients.map(ingredient => `
                                        <div class="ingredient-item flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                            <div class="flex items-center gap-3">
                                                <img src="${ingredient.image}" alt="${ingredient.name}" class="w-12 h-12 rounded-lg object-cover">
                                                <div>
                                                    <p class="font-medium text-gray-900">${ingredient.name}</p>
                                                    <p class="text-sm text-gray-500">${ingredient.quantity} ${ingredient.unit}</p>
                                                </div>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <span class="font-semibold text-gray-900">₹${ingredient.price}</span>
                                                <button onclick="addToCart(${JSON.stringify(ingredient).replace(/"/g, '&quot;')})" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-sm font-medium transition-colors touch-button">
                                                    Add
                                                </button>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <!-- Instructions -->
                            <div>
                                <h3 class="text-2xl font-bold text-gray-900 mb-4">Instructions</h3>
                                <div class="instructions-list space-y-4">
                                    ${recipe.instructions.map(instruction => `
                                        <div class="instruction-step">
                                            <p class="text-gray-700">${instruction}</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>

                        <!-- Nutrition Information -->
                        <div class="mt-8">
                            <h3 class="text-2xl font-bold text-gray-900 mb-4">Nutrition Information</h3>
                            <div class="nutrition-grid">
                                ${Object.entries(recipe.nutrition).map(([key, value]) => `
                                    <div class="nutrition-item">
                                        <p class="text-sm font-medium text-gray-600 capitalize">${key}</p>
                                        <p class="text-lg font-bold text-gray-900">${value}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <!-- Action buttons -->
                        <div class="flex flex-col sm:flex-row gap-4 mt-8">
                            <button onclick="addAllIngredientsToCart(${JSON.stringify(recipe).replace(/"/g, '&quot;')})" class="flex-1 bg-[#6ec88e] hover:bg-green-500 text-white font-bold py-3 px-6 rounded-xl transition-colors touch-button">
                                Add All Ingredients - ₹${totalCost.toFixed(2)}
                            </button>
                            <button onclick="shareRecipe(${recipe.id})" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-xl transition-colors touch-button">
                                Share Recipe
                            </button>
                        </div>
                    </div>
                </div>
            `;

            recipeModal.classList.remove('hidden');
            setTimeout(() => recipeModal.classList.add('show'), 10);
            document.body.style.overflow = 'hidden';
        }

        // Close recipe modal
        function closeRecipeModal() {
            recipeModal.classList.remove('show');
            setTimeout(() => {
                recipeModal.classList.add('hidden');
                document.body.style.overflow = '';
            }, 300);
        }

        // Share recipe
        function shareRecipe(recipeId) {
            const recipe = recipes.find(r => r.id === recipeId);
            if (!recipe) return;

            if (navigator.share) {
                navigator.share({
                    title: recipe.name,
                    text: recipe.description,
                    url: window.location.href
                }).catch(console.error);
            } else {
                // Fallback for browsers that don't support Web Share API
                const shareText = `Check out this amazing recipe: ${recipe.name}\n\n${recipe.description}\n\n${window.location.href}`;
                navigator.clipboard.writeText(shareText).then(() => {
                    showToast('Recipe link copied to clipboard!', 'success');
                }).catch(() => {
                    showToast('Unable to share recipe', 'error');
                });
            }
        }

        // Search functionality
        function searchRecipes(query) {
            const searchTerm = query.toLowerCase();
            currentRecipes = recipes.filter(recipe => 
                recipe.name.toLowerCase().includes(searchTerm) ||
                recipe.description.toLowerCase().includes(searchTerm) ||
                recipe.tags.some(tag => tag.toLowerCase().includes(searchTerm)) ||
                recipe.ingredients.some(ing => ing.name.toLowerCase().includes(searchTerm))
            );
            renderRecipes(currentRecipes);
        }

        // Filter functionality
        function filterRecipes(category) {
            if (category === 'all') {
                currentRecipes = [...recipes];
            } else {
                currentRecipes = recipes.filter(recipe => 
                    recipe.category === category || 
                    recipe.tags.some(tag => tag.toLowerCase() === category.toLowerCase())
                );
            }
            renderRecipes(currentRecipes);
        }

        // Event listeners
        searchInput.addEventListener('input', (e) => {
            searchRecipes(e.target.value);
        });

        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Update active button
                filterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // Filter recipes
                const category = button.dataset.category;
                filterRecipes(category);
            });
        });

        cartBtn.addEventListener('click', () => {
            window.location.href = 'cart.html';
        });

        // Close modal when clicking outside
        recipeModal.addEventListener('click', (e) => {
            if (e.target === recipeModal) {
                closeRecipeModal();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeRecipeModal();
            }
            if (e.key === '/' && !recipeModal.classList.contains('hidden')) {
                e.preventDefault();
                searchInput.focus();
            }
        });

        // Make functions globally available
        window.openRecipeModal = openRecipeModal;
        window.closeRecipeModal = closeRecipeModal;
        window.toggleFavorite = toggleFavorite;
        window.addToCart = addToCart;
        window.addAllIngredientsToCart = addAllIngredientsToCart;
        window.shareRecipe = shareRecipe;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateCartCount();
            renderRecipes(currentRecipes);
            showToast('Welcome to FreshMart Recipes! 👨‍🍳', 'success', 3000);
        });
    </script>
</body>
</html>